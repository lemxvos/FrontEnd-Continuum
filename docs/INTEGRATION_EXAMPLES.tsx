/**\n * EXEMPLO: IntegraÃ§Ã£o Completa\n * \n * Este arquivo mostra como integrar todos os componentes/stores/services\n * em uma pÃ¡gina funcional.\n * \n * PROPÃ“SITO: ReferÃªncia para implementar outras pÃ¡ginas\n */\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\n\n// Stores\nimport { useNoteStore } from \"@/stores/noteStore\";\nimport { useEntityStore } from \"@/stores/entityStore\";\n\n// Componentes\nimport { MentionDisplay } from \"@/components/MentionDisplay\";\nimport { JournalEditor } from \"@/components/JournalEditor\";\nimport { EntityBadge } from \"@/components/EntityBadge\";\n\n/**\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n * EXEMPLO 1: Listar Notas com MenÃ§Ãµes Renderizadas\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n */\nexport function JournalListPageExample() {\n  const navigate = useNavigate();\n  \n  // Store: acesso a notas e aÃ§Ãµes\n  const { \n    notes, \n    isLoading, \n    error, \n    fetchList,\n    setCurrentNote\n  } = useNoteStore();\n\n  // Carrega notas ao montar\n  useEffect(() => {\n    fetchList({ page: 1, pageSize: 20 });\n  }, [fetchList]);\n\n  if (isLoading) return <div className=\"text-center p-8\"><Loader2 className=\"animate-spin\" /></div>;\n  if (error) return <div className=\"error p-4 text-red-500\">Erro: {error}</div>;\n\n  return (\n    <div className=\"space-y-4 p-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">ğŸ“” Meu Journal</h1>\n        <Button onClick={() => navigate(\"/journal/new\")}>+ Nova Nota</Button>\n      </div>\n\n      {notes.length === 0 ? (\n        <div className=\"text-center text-gray-500 p-8\">\n          Nenhuma nota ainda. <Button variant=\"link\" onClick={() => navigate(\"/journal/new\")}>Criar primeira</Button>\n        </div>\n      ) : (\n        <div className=\"grid gap-4\">\n          {notes.map((note) => (\n            <Card \n              key={note.id} \n              className=\"hover:shadow-md cursor-pointer transition\"\n              onClick={() => {\n                setCurrentNote(note);\n                navigate(`/journal/${note.id}`);\n              }}\n            >\n              <CardHeader>\n                <CardTitle className=\"text-lg\">{note.title}</CardTitle>\n                <p className=\"text-sm text-gray-500\">ğŸ“ {note.folderPath}</p>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                {/* \n                  IMPORTANTE:\n                  - Renderiza content COM {type:id}\n                  - Usa MentionDisplay pra mostrar como badges\n                  - MentionDisplay recebe entidades jÃ¡ processadas pelo backend\n                */}\n                <MentionDisplay\n                  content={note.content.substring(0, 200) + (note.content.length > 200 ? '...' : '')}\n                  entities={note.entities}\n                  className=\"text-sm text-gray-700\"\n                />\n\n                {/* Mostra entidades mencionadas */}\n                {note.entities.length > 0 && (\n                  <div className=\"flex gap-2 flex-wrap\">\n                    {note.entities.map((entity) => (\n                      <EntityBadge \n                        key={entity.id} \n                        entity={entity}\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/entities/${entity.id}`);\n                        }}\n                      />\n                    ))}\n                  </div>\n                )}\n\n                {/* Metadata */}\n                <p className=\"text-xs text-gray-400\">\n                  {new Date(note.createdAt).toLocaleDateString('pt-BR')}\n                </p>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/**\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n * EXEMPLO 2: Editor de Nota (Criar/Editar)\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n */\nexport function JournalEditorPageExample({ noteId }: { noteId?: string }) {\n  const navigate = useNavigate();\n\n  return (\n    <JournalEditor\n      noteId={noteId}\n      defaultFolder=\"inbox\"\n      onSaveSuccess={(note) => {\n        // Redireciona para visualizaÃ§Ã£o ou volta Ã  lista\n        navigate(`/journal/${note.id}`);\n      }}\n      onCancel={() => {\n        navigate(\"/journal\");\n      }}\n    />\n  );\n}\n\n/**\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n * EXEMPLO 3: Buscar Notas por Entidade\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n */\nexport function EntityDetailPageExample({ entityId }: { entityId: string }) {\n  const navigate = useNavigate();\n  \n  const {\n    notes,\n    isLoading,\n    search\n  } = useNoteStore();\n\n  const {\n    getOne: getEntity\n  } = useEntityStore();\n\n  // Carrega notas que mencionam essa entidade\n  useEffect(() => {\n    search({ entityId });\n  }, [entityId, search]);\n\n  const entity = getEntity(entityId);\n\n  if (!entity) return <div className=\"text-center p-8\">Entidade nÃ£o encontrada</div>;\n\n  return (\n    <div className=\"space-y-6 p-4\">\n      {/* Header da entidade */}\n      <div className=\"space-y-2\">\n        <EntityBadge entity={entity} />\n        {entity.description && (\n          <p className=\"text-gray-600\">{entity.description}</p>\n        )}\n      </div>\n\n      {/* Notas que mencionam essa entidade */}\n      <div>\n        <h2 className=\"text-2xl font-bold mb-4\">\n          Mencionada em {notes.length} nota{notes.length !== 1 ? \"s\" : \"\"}\n        </h2>\n\n        {isLoading ? (\n          <Loader2 className=\"animate-spin\" />\n        ) : (\n          <div className=\"space-y-3\">\n            {notes.map((note) => (\n              <Card\n                key={note.id}\n                className=\"cursor-pointer hover:shadow-md\"\n                onClick={() => navigate(`/journal/${note.id}`)}\n              >\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{note.title}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <MentionDisplay\n                    content={note.content.substring(0, 150) + \"...\"}\n                    entities={note.entities}\n                    className=\"text-sm\"\n                  />\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/**\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n * EXEMPLO 4: Listar todas as Entidades\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n */\nexport function EntityListPageExample({ type }: { type?: string }) {\n  const navigate = useNavigate();\n  const { entities, isLoading, fetch, fetchByType } = useEntityStore();\n\n  useEffect(() => {\n    if (type) {\n      fetchByType(type as any);\n    } else {\n      fetch();\n    }\n  }, [type, fetch, fetchByType]);\n\n  if (isLoading) return <Loader2 className=\"animate-spin\" />;\n\n  return (\n    <div className=\"space-y-4 p-4\">\n      <h1 className=\"text-3xl font-bold\">Entidades</h1>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n        {entities.map((entity) => (\n          <Card\n            key={entity.id}\n            className=\"cursor-pointer hover:shadow-md\"\n            onClick={() => navigate(`/entities/${entity.id}`)}\n          >\n            <CardContent className=\"pt-6\">\n              <EntityBadge entity={entity} />\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n/**\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n * FLUXO RECOMENDADO\n * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n * \n * 1. UsuÃ¡rio clica \"/journal\"\n *    â†’ JournalListPageExample carrega notas\n *    â†’ useNoteStore.fetchList()\n *    â†’ Renderiza com MentionDisplay\n * \n * 2. Clica numa nota\n *    â†’ JournalEditorPageExample com noteId\n *    â†’ Abre JournalEditor\n *    â†’ User edita, adiciona {person:ent_8f2a}\n *    â†’ Clica Salvar\n *    â†’ useNoteStore.update()\n *    â†’ Backend valida menÃ§Ã£o\n *    â†’ Retorna com entities[]\n *    â†’ JournalListPageExample re-renderiza\n * \n * 3. Clica em uma entidade badge\n *    â†’ EntityDetailPageExample\n *    â†’ Busca todas as notas que mencionam\n *    â†’ useNoteStore.search({ entityId })\n *    â†’ Mostra lista de contexto\n * \n * NUNCA HÃ:\n * - Parsing de menÃ§Ãµes\n * - ValidaÃ§Ã£o de entidades\n * - CÃ¡lculos de Ã­ndices\n * - DuplicaÃ§Ã£o de lÃ³gica\n * \n * SEMPRE HÃ:\n * - Store como fonte de verdade\n * - Backend como processador\n * - Frontend como renderizador\n */\n"